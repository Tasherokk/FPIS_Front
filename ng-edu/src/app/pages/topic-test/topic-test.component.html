<div class="test-container">
  <h2>–¢–∞“õ—ã—Ä—ã–ø –±–æ–π—ã–Ω—à–∞ —Ç–µ—Å—Ç</h2>

  <!-- –°–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ -->
  <div class="question-navigation">
    <button
      *ngFor="let question of questions; let i = index"
      [class.answered]="answers[i] !== undefined"
      [class.active]="currentQuestionIndex === i"
      [class.correct]="showResults && isCorrectAnswer(i)"
      [class.incorrect]="showResults && !isCorrectAnswer(i)"
      (click)="goToQuestion(i)"
    >
      {{ i + 1 }}
    </button>
  </div>

  <!-- –¢–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å -->
  <div class="question">
    <h3 [innerHTML]="currentQuestion.text"></h3>
    <ul>
      <li *ngFor="let answer of currentQuestion.answers"
          [class.correct]="showResults && answers[currentQuestionIndex] === answer.id && isCorrectAnswer(currentQuestionIndex)"
          [class.incorrect]="showResults && answers[currentQuestionIndex] === answer.id && !isCorrectAnswer(currentQuestionIndex)">
        <label>
          <input
            type="radio"
            [value]="answer.id"
            name="question-{{ currentQuestionIndex }}"
            [checked]="answers[currentQuestionIndex] === answer.id"
            [disabled]="showResults"
            (change)="selectAnswer(answer.id)"
          />
          <span [innerHTML]="answer.text"></span>
        </label>
      </li>
    </ul>
  </div>

  <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
  <div class="controls">
    <button (click)="submitTest()" *ngIf="allQuestionsAnswered() && !showResults">
      –¢–µ—Å—Ç—Ç—ñ –∞—è“õ—Ç–∞—É
    </button>
    <p *ngIf="!allQuestionsAnswered()">–¢–µ—Å—Ç—Ç—ñ –∞—è“õ—Ç–∞—É “Ø—à—ñ–Ω –±–∞—Ä–ª—ã“õ —Å“±—Ä–∞“õ—Ç–∞—Ä“ì–∞ –∂–∞—É–∞–ø –±–µ—Ä—ñ“£—ñ–∑.</p>
    <button (click)="restartTest()" *ngIf="showResults">“ö–∞–π—Ç–∞ —Ç–∞–ø—Å—ã—Ä—É</button>
  </div>

  <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
  <div *ngIf="showResults" class="results">
    <p>C—ñ–∑ {{ score }}/{{ questions.length }} —Å“±—Ä–∞“õ“õ–∞ –¥“±—Ä—ã—Å –∂–∞—É–∞–ø –±–µ—Ä–¥—ñ“£—ñ–∑!</p>
    <p *ngIf="passed">–¢–µ—Å—Ç—Ç–µ–Ω ”©—Ç—Ç—ñ“£—ñ–∑! üéâ</p>
    <p *ngIf="!passed">–¢–µ—Å—Ç—Ç–µ–Ω ”©—Ç–ø–µ–¥—ñ“£—ñ–∑. “ö–∞–π—Ç–∞ —Ç–∞–ø—Å—ã—Ä—ã–ø –∫”©—Ä—ñ“£—ñ–∑.</p>
    <button *ngIf="passed && hasNextTopic" (click)="goToNextTopic()">–ö–µ–ª–µ—Å—ñ —Ç–∞“õ—ã—Ä—ã–ø“õ–∞ –∫”©—à—É</button>
    <p *ngIf="passed && !hasNextTopic">–ö—É—Ä—Å—Ç—ã –∞—è“õ—Ç–∞—É—ã“£—ã–∑–±–µ–Ω “õ“±—Ç—Ç—ã“õ—Ç–∞–π–º—ã–∑! üéâ</p>
  </div>
</div>
